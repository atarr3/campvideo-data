a <- c(1,2,3,NA,4)
b <- c(1,NA,3,NA,4)
a == b
?identical
identical(a,b)
a <- factor(1,2,2,3,5)
a
a <- factor(c(1,2,2,3,5)
)
a
a <- factor(c(1,2,2,3,4))
a
b <- c(1,2,3,4)
b[a]
a
a <- factor(c(1,2,4,3,4))
b[a]
b <- c(8,9,12,4)
b <- c(8,9,12,7)
b[a]
a
a <- factor(c(5,6,5,7,4))
b[a]
a
a
b
levels(a)
a
levels(a) <- c(4,5,6)
levels(a) <- c(4,5,5,6)
a
rep(10,rexp(20))
rep(rexp(20),10)
rep(rexp(20),10,1)
rep(rexp(20),1,10)
sapply(rep(rexp(20),1,10),mean)
sapply(rep(rexp(20),10),mean)
rep(NA,10)
rexp(20)
replicate(rexp(20)
, mean)
replicate(rexp(20),mean)
?replicate
replicate(10,rexp(20))
exp(20)
rexp(20)
sapply(rexp(20))
sapply(rexp(20),mean)
sapply(rexp(20,10),mean)
rexp
?rexp
rexp(200)
matrix(rexp(200),20)
sapply(matrix(rexp(200),20),mean)
?sapply
sapply(t(matrix(rexp(200),20)),mean)
t(matrix(rexp(200),20))
?mean
?replicate
rep(mean(exp(20)),10)
rep(exp(20),10)
rep(mean(rexp(20)),10)
rep(rexp(20),10)
rexp(20)
sapply(rep(20,10),mean(rexp()))
sapply(rep(20,10),rexp)
sapply(rep(20,10),mean(rexp))
sapply(rep(20,10), function(x) mean(rexp(x)) )
?rm
data(thuesen)
?subset
library(dplyr)
starwars
starwars %>% mutate(bmi = mass / ((height / 100) ^ 2))
starwars %>% mutate(bmi = mass / ((height / 100) ^ 2)) %>% select(name:mass,bmi)
starwars %>% mutate(name,bmi = mass / ((height / 100) ^ 2)) %>% select(name:mass,bmi)
starwars %>%
select(name, ends_with("color"))
starwars %>% mutate(name,bmi = mass / ((height / 100) ^ 2)) %>% select(name:mass,bmi)
starwars %>% mutate(bmi = mass / ((height / 100) ^ 2)) %>% select(name:mass,bmi)
columns(starwars)
cols(starwars)
rows
rows()
colnames(starwars)
?mutate
starwars %>% mutate(name,bmi = mass / ((height / 100) ^ 2)) %>% select(name:mass,bmi)
starwars
starwars %>% mutate(name)
starwars %>% mutate(name=name)
starwars %>% mutate(name1=name)
starwars %>% mutate(name,bmi = mass / ((height / 100) ^ 2)) %>% select(name:mass,bmi)
starwars %>% mutate(bmi = mass / ((height / 100) ^ 2)) %>% select(name:mass,bmi)
for (i in 1:20) {}
for (i in 1:20) {
print(1)
}
for (i in 1:20) {
print(i)
}
print
?append
a <- seq(1,10)
a
append(10,100,4)
append(a,100,4)
edit(a)
?insert
insert
append
a
c(a[1:4],100,a[5:10])
c(a[1:4],100,a[5:-1])
c(a[1:4],100,a[5:len(a)])
c(a[1:4],100,a[5:length(a)])
unlink('E:/Users/Alex/Desktop/largest subset/slides/meeting_04-01-2020_cache', recursive = TRUE)
knit_with_parameters('E:/Users/Alex/Desktop/largest subset/slides/meeting_04-01-2020.Rmd')
source('E:/Users/Alex/Desktop/largest_subset/dataset_generate.R')
F.generate(500, "A")
data <- F.generate(500, "A")
sum(data$z.a)
set.seed(2002)
data <- F.generate(500, "A")
sum(data$z.a)
install.packages("devtools")
devtools::install_github("raymondkww/ATE.ncb")
devtools::install_github("raymondkww/ATE.ncb")
devtools::install_github("raymondkww/ATE.ncb")
install.packages(devtools)
install.packages("devtools")
install.packages("devtools")
devtools::install_github("raymondkww/ATE.ncb")
devtools::install_github("raymondkww/ATE.ncb")
devtools::install_github("raymondkww/ATE.ncb")
library(survey)
debug(survey::svymean)
debug(survey::svydesign)
survey::svydesign
View(survey::svydesign)
install.packages("caret")
library(caret)
source('E:/Users/Alex/OneDrive/Documents/Research/campvideo/Rcode/music_mturk_plot.R')
confusionMatrix(music.ith$major.music1, music.ith$music1)
music.ith$music1
confusionMatrix(as.factor(music.ith$major.music1), as.factor(music.ith$music1))
install.packages("e1071")
confusionMatrix(as.factor(music.ith$major.music1), as.factor(music.ith$music1))
c1 <- confusionMatrix(as.factor(music.ith$major.music1), as.factor(music.ith$music1))
c2 <- confusionMatrix(as.factor(music.ith$major.music2), as.factor(music.ith$music2))
c3 <- confusionMatrix(as.factor(music.ith$major.music3), as.factor(music.ith$music3))
c1
print(c1$table)
print(c1$table / nrow(music.ith))
source('E:/Users/Alex/OneDrive/Documents/Research/campvideo/Rcode/music_mturk_plot.R')
round(c1, digits=4)
as.vector(c1)
round(c1$table, digits=4)
round(c1$table / nrow(music.ith), digits=4)
source('E:/Users/Alex/OneDrive/Documents/Research/campvideo/Rcode/music_mturk_plot.R')
install.packages("redist")
install.packages("Rtools")
install.packages(Rtools)
writeLines('PATH="${RTOOLS40_HOME}\\usr\\bin;${PATH}"', con = "~/.Renviron")
~
Sys.which("make")
install.packages("https://cran.r-project.org/src/contrib/Archive/redist/redist_1.3-3.tar.gz", type="source")
setwd("E:/Users/Alex/Downloads")
setwd("E:/Users/Alex/Desktop")
install.packages("redist_1.3-3.tar.gz", type="source")
if (!require(remotes)) install.packages("remotes")
remotes::install_github("alarm-redist/redist", dependencies=TRUE)
require("redist")
install.packages("redist_1.3-3.tar.gz", repos=NULL, type="source")
install.packages("Rcpp")
install.packages("Rcpp")
install.packages("redist_1.3-3.tar.gz", repos=NULL, type="source")
install.packages("spdep")
install.packages("redist_1.3-3.tar.gz", repos=NULL, type="source")
install.packages("deldir")
install.packages("deldir")
install.packages("redist_1.3-3.tar.gz", repos=NULL, type="source")
install.packages("foreach")
install.packages("Rcpparmadillo")
install.packages("RcppArmadillo")
install.packages("redist_1.3-3.tar.gz", repos=NULL, type="source")
install.packages("doParallel")
install.packages("spdep")
install.packages("deldir")
install.packages("spdep")
install.packages("redist")
install.packages("redist_1.3-3.tar.gz", repos=NULL, type="source")
utils::getSrcDirectory()
utils::getSrcDirectory()[1]
source('~/GitHub/svmcausal-data/code/R/sims_lee.R')
install.packages("twang")
source('~/GitHub/svmcausal-data/code/R/sims_lee.R')
source('~/GitHub/svmcausal-data/code/R/sims_lee.R')
library(twang)
install.packages("twang")
install.packages("twang")
library(twang)
install.packages("latticeExtra")
source('~/GitHub/svmcausal-data/code/R/sims_lee.R')
dirname(sys.frame(1)$ofile)
sys.frame
sys.frame(0)
sys.frame(0)$ofile
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/	latticeExtra_0.6-26.tar.gz")
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/	latticeExtra_0.6-24.tar.gz")
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/	latticeExtra_0.6-19.tar.gz")
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/	latticeExtra_0.6-18.tar.gz")
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/	latticeExtra_0.6-16.tar.gz")
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/	latticeExtra_0.6-19.tar.gz", type="source")
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/latticeExtra_0.6-26.tar.gz", type="source")
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/latticeExtra_0.6-19.tar.gz", type="source")
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/latticeExtra_0.6-18.tar.gz", type="source")
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/latticeExtra_0.6-16.tar.gz", type="source")
install.packages("https://cran.r-project.org/src/contrib/Archive/latticeExtra/latticeExtra_0.6-14.tar.gz", type="source")
devtools::install_version("latticeExtra", '0.6-24')
install.packages("devtools")
tinytex::install_tinytex()
tinytex::uninstall_tinytex()
tinytex::install_tinytex()
tinytex::uninstall_tinytex()
install.packages("quanteda")
install.packages("readtext")
library("quanteda")
update.packages()
install.packages("here")
here::here()
source('E:/Users/Alex/Desktop/campvideo_replication/scripts/music_mturk_plot.R')
source('E:/Users/Alex/Desktop/campvideo_replication/scripts/music_mturk_plot.R')
source('E:/Users/Alex/Desktop/campvideo_replication/scripts/music_mturk_plot.R')
wd
wd <- here::i_am()
wd <- here::i_am("music_mturk_plot.R")
wd
source('E:/Users/Alex/Desktop/campvideo_replication/scripts/music_mturk_plot.R')
setwd("E:/Users/Alex/Desktop/campvideo_replication/scripts")
wd <- here::i_am("music_mturk_plot.R")
here()
here::here()
setwd("E:/Users/Alex/Desktop/campvideo_replication")
wd <- here::i_am("scripts/music_mturk_plot.R")
setwd("E:/Users/Alex/Desktop/campvideo_replication/scripts")
wd <- here::i_am("scripts/music_mturk_plot.R")
getwd()
here::here?
?here::here
here::here()
here::here("data")
here::here("data", "validation")
here::here('data', 'mturk', 'music_mturk.csv')
music.mturk <- read.csv(here::here("data", "mturk", "music_mturk.csv"),
stringsAsFactors=F)
# read in our results
mood.pred <- read.csv(here::here("data", "results", "mood_results.csv"),
stringsAsFactors=F)
# read in MTurk data
mood.mturk <- read.csv(here::here("data", "mturk", "mood_mturk.csv"),
stringsAsFactors=F)
View(music.mturk)
# read in our results
mood.pred <- read.csv(here::here("data", "results", "mood_results.csv"),
stringsAsFactors=F)
# read in MTurk data
mood.mturk <- read.csv(here::here("data", "mturk", "mood_mturk.csv"),
stringsAsFactors=F)
# read in our results
mood.pred <- read.csv(here::here("results", "mood_results.csv"),
stringsAsFactors=F)
# read in MTurk data
mood.mturk <- read.csv(here::here("data", "mturk", "mood_mturk.csv"),
stringsAsFactors=F)
# read in our results
mood.pred <- read.csv(here::here("results", "mood_results.csv"),
stringsAsFactors=F)
# read in MTurk data
mood.mturk <- read.csv(here::here("data", "mturk", "mood_mturk.csv"),
stringsAsFactors=F)
mood.mturk
# set up root location
here::i_am("scripts/music_mturk_plot.R")
issue.mturk <- read.csv(here::here("data", "mturk", "mood_mturk.csv"),
stringsAsFactors=F)
issue.mturk <- read.csv(here::here("data", "mturk", "issue_mturk.csv"),
stringsAsFactors=F)
issue.mturk$creative
issue.mturk$issue
issue.mturk$creative
unique()
?unique
source('E:/Users/Alex/Desktop/campvideo_replication/scripts/issues_mturk_plot.R')
data <- data.frame(person=c('A', 'A', 'B', 'B', 'C', 'C'),
trial=c(1, 2, 1, 2, 1, 2),
outcome1=c(7, 6, 6, 5, 4, 4),
outcome2=c(4, 4, 5, 5, 3, 2))
data
stack(data[3:4])
?stack
stack(data[2:4])
a = [1,2,3]
issues = c('prsment','gbush','reagan','gophse','demhse','gopsen','demsen','congmt',
'democrats','republicans','mention1','mention2','mention3','mention4',
'mention5','mention6','mention7','mention8','mention14','mention15',
'mention16','mention17','issue10','issue11','issue12','issue13',
'issue14','issue15','issue16','issue17','issue18','issue19','issue20',
'issue21','issue22','issue23','issue30','issue31','issue32','issue33',
'issue34','issue35','issue36','issue37','issue38','issue39','issue40',
'issue41','issue42','issue43','issue50','issue51','issue52','issue53',
'issue54','issue55','issue56','issue57','issue60','issue61','issue62',
'issue63','issue64','issue65','issue66','issue67','issue68','issue69',
'issue70','issue71','issue72','issue80','issue82','issue83','issue84',
'issue90','issue91','issue92','issue93','issue94','issue95','issue96',
'issue98')
issues
len(issues)
length(issues)
issue.mturk$mturk | issue.mturk$pred
int(issue.mturk$mturk | issue.mturk$pred)
integer(issue.mturk$mturk | issue.mturk$pred)
as.numeric(issue.mturk$mturk | issue.mturk$pred)
a = c(1,0,0, NA, 1)
b = c(0, 0, 0, 0, 0)
a | b
b = c(0, 0, 0, 1, 0)
a | b
as.numeric(a | b)
b = c(0, 0, 0, 0, 0)
as.numeric(a | b)
issue.mturk[, c('creative', 'uid')]
issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')]
(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')])
~(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')])
!(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')])
as.numeric(!(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')]))
(!(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')]))
res = as.numeric(!(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')]))
as.numeric(!(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')]))
as.matrix(!(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')]))
as.integer(!(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')]))
res = !(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')])
type(res)
class(res)
as.integer(!(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')]))
matrix(as.integer(!(issue.mturk[, c('mturk', 'pred')] | issue.mturk[, c('mturk', 'pred')])), ncol=2)
c(c(1,2,3), 4)
issue.mturk[, 2:]
issue.mturk[, 2:end]
issue.mturk[, 2:ncol(issue.mturk)]
issue.mturk[, -1]
data
stack(data[3:4])
cbind(data[1:2], stack(data[3:4]))
unique(c(5,4,3,2,1))
unique(c(1,3,4,2))
?order
?match
a = c('test1', 'test2')
b = c('test2', 'test1')
match(a, b)
issue.mturk[c(2,1), 1]
issue.mturk[c(1,6), 1]
issue.mturk[c(6,1), 1]
match(issue.wmp$creative, unique(issue.mturk$creative))
match(c(1,2,3), c(2,1))
match(c(1,2,3), c(2,1), nomatch=-1)
c(1,2,3)[c(2,1,-1)]
c(1,2,3)[c(2,1,0)]
c(1,2,3)[c(2,1,NA)]
a = c(1,2,3,4,5,6,7,8,9,10)
permute
random
b = 1:15
sample(b)
b = sample(1:15)
b
match(b, a)
match(b, a, nomatch=0)
b[match(b, a, nomatch=0)]
a
b
b[match(b, a)]
match(b,a)
b
match(a,b)
b[match(a,b)]
seq(1,10,5)
issue.mturk[,-'creative']
issue.mturk[,-1]
res = cbind(data[1:2], stack(data[3:4]))
res$person == 'A'
res
issue.mturk
issue.mturk[seq(1, nrow(issue.mturk), 5)]
issue.mturk[seq(1, nrow(issue.mturk), 5),]
issue.mturk <- read.csv(here::here("data", "mturk", "issue_mturk.csv"),
stringsAsFactors=F)
issue.mturk
issue.mturk$new = 0
issue.mturk$new
1:5:10
seq(1,10,5)
issue.mturk[,'creative']
tapply(issue.mturk$pred == issue.mturk$mturk, issue.mturk$creative, sum)
res = tapply(issue.mturk$pred == issue.mturk$mturk, issue.mturk$creative, sum)
max(res)
library(dplyr)
(issue.mturk %>% group_by(creative, issue)
%>% summarise(total=sum(pred == mturk), .groups = 'drop'))$total
a = c(1,2,3,4,5)
b = sample(seq(1,15))
match(a,b)
b[match(a,b)]
b
